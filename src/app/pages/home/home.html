<section class="hero">
  <div class="hero-content">
    <h1 class="hero-title">
      {{'hero-title' | translate}} </h1>
    <p class="hero-subtitle">
      {{'hero-subtitle' | translate}} </p>

    <div class="hero-buttons">
      <button (click)="showDialog()" pButton class="p-button-rounded p-button-lg search-btn">{{'search-btn' |
        translate}}</button>
      <button pButton (click)="scrollToSection('aboutsec')"
        class="p-button-rounded p-button-lg info-btn">{{'learnmore-btn' | translate}}</button>
    </div>
  </div>

  <div class="hero-card" [class.rtl]="currentLang === 'ar'" [class.ltr]="currentLang === 'en'">
    <h2 class="card-title"> {{'who' | translate}}</h2>
    <p class="card-text"> {{'about1' | translate}}
    </p>
    <app-counters></app-counters>

  </div>
</section>

<section class="about-section" id='aboutsec'>

  <div class="about-title">
    {{'about-title1' | translate}}<br />
    <span>{{'about-title2' | translate}}</span>
  </div>

  <div class="about-text">
    <p>
      {{'about-text' | translate}}</p>
  </div>




</section>

<section class="aboutsec2">
  <div class="about-container">
    <div class="about-box">
      <h3>{{'ab' | translate}} <span>{{'sarh' | translate}}</span></h3>
      <p>{{'about-sarh' | translate}}</p>
      <button class="more-btn" [routerLink]="['/about']">{{'learnmore-btn' | translate}}</button>
    </div>
    <div class="about-img" [class.rtl]="currentLang === 'ar'" [class.ltr]="currentLang === 'en'">
      <img src="images/building.png" alt="عن سرح" />
    </div>

  </div>
</section>
<section>
  <div class="projectssec">
    <h4 class="subtitle">{{'projects' | translate}}</h4>
    <h2 class="title">{{'projectlist' | translate}}</h2>
    <div class="btn-wrapper">
      <button class="more-btn2" [routerLink]="['/projects']" [class.rtl]="currentLang === 'ar'"
        [class.ltr]="currentLang === 'en'">{{'learnmore-btn'
        |
        translate}}</button>
    </div>
  </div>
  <div class="projects-section">

    <div class="project-featured">
      @if(lastunit){
      <button class="scroll-top-btn" [routerLink]="['/view-unit-details',lastunit.id]">
        <i class="pi pi-arrow-up-left"></i>
      </button>

      <img [src]="lastunit.main_image" (error)="onImageError3($event)" />
      <div class="info-box">
        <h3>{{ lastunit.name }}</h3>
        <p class="location">
          <i class="pi pi-map-marker"></i> {{ lastunit.region }}
        </p>
        <p><i class="pi pi-building"></i> {{ lastunit.types }}</p>

        <div class="details">
          <span><i class="pi pi-th-large"></i> <span class="num">{{ lastunit.area }}</span> م²</span> |
          <span><i class="pi pi-bed"></i> <span class="num">{{ lastunit.rooms }} </span>غرف</span> |
          <span><i class="pi pi-shower"></i> <span class="num">{{ lastunit.bathrooms }}</span> حمام</span>
        </div>
      </div>
      }
    </div>
    <div class="projects-carousel">
      <p-carousel [value]="project" [numVisible]="2" [numScroll]="2" orientation="vertical" [circular]="true"
        [autoplayInterval]="4000">

        <ng-template pTemplate="item" let-project>
          <div class="project-card" [routerLink]="['/region-details',project.id]">
            <img [src]="project.main_image" (error)="onImageError2($event)" />
            <div class="overlay">
              <h4>{{ project.name }}</h4>
            </div>
          </div>
        </ng-template>
      </p-carousel>

    </div>
    <div class="projectsreversed-carousel">
      <p-carousel [value]="projectsReversed" [numVisible]="2" [numScroll]="2" orientation="vertical" [circular]="true"
        [autoplayInterval]="4000">

        <ng-template pTemplate="item" let-project>
          <div class="project-card" [routerLink]="['/region-details',project.id]">
            <img [src]="project.main_image" (error)="onImageError2($event)" />
            <div class="overlay">
              <h4>{{ project.name }}</h4>
            </div>
          </div>
        </ng-template>
      </p-carousel>

    </div>
  </div>

</section>
<section class="projects">
  <h4 class="subtitle">{{'business' | translate}}</h4>
  <h2 class="title">{{'priv-pro' | translate}}</h2>
  <div class="btn-wrapper">
    <button class="more-btn2" [routerLink]="['/business']" [class.rtl]="currentLang === 'ar'"
      [class.ltr]="currentLang === 'en'">{{'learnmore-btn' |
      translate}}</button>
  </div>
  <p-carousel [value]="prev" [numVisible]="3" [numScroll]="1" [circular]="true" [autoplayInterval]="4000"
    [responsiveOptions]="responsiveOptions" class="project-carousel">

    <ng-template pTemplate="item" let-project>
      <div class="project-card">
        <img [src]="project.main_image" (error)="onImageError($event)">
        <div class="project-info">
          <h3>{{ project.name }}</h3>
          <a class="details" [routerLink]="['/view-project-details',project.id]">{{'moredetails' | translate}}←</a>
        </div>
      </div>
    </ng-template>
  </p-carousel>
</section>

<section class="contact">
  <app-contact></app-contact>
</section>

<!-- <p-dialog header="ابحث على أفضل مكان" [(visible)]="visible" [modal]="true" [dismissableMask]="true" [style]="{width: '60vw', borderRadius:'20px'}">

  <div class="search-form">
    <div class="form-grid">

      <div class="form-field">
        <label for="propertyType">{{'property'| translate}} </label>
        <p-select [options]="propertyTypes" [(ngModel)]="selectedProperty" optionLabel="arabic_name" optionValue="id">
        </p-select>
      </div>

      <div class="form-field">
        <label for="price">{{'price'| translate}}</label>
        <p-select [options]="prices" [(ngModel)]="selectedPrice" optionLabel="price" optionValue="id">
          <ng-template let-p pTemplate="item">
            <div class="flex align-items-center gap-2">
              {{p.label1}} {{ p.min_price }} {{ p.label2}} {{ p.max_price }}
            </div>
          </ng-template>
          <ng-template let-p pTemplate="selectedPrice">
            {{ p.label1 }} {{ p.min_price }} {{ p.label2 }} {{ p.max_price }}
          </ng-template>
        </p-select>
      </div>

      <div class="form-field">
        <label for="location">{{'location'| translate}}</label>
        <p-select [options]="locations" [(ngModel)]="selectedLocation" optionLabel="arabic_name" optionValue="id">
        </p-select>
      </div>
    </div>

    <div class="filter-row">
      <span class="filter-label">{{'looking' | translate}}</span>
      <div class="btn-group">
        @for(type of projectType; track type.id){
        <button pButton type="button" [ngClass]="{ 'active': isActive }" (click)="active(type.id)" class="filter-btn">{{type.name}}</button>
        }
      </div>
    </div>

    <div class="btn-search">
      <button pButton type="button" class="search-btn">{{'search-btn' | translate}}</button>
    </div>
  </div>
</p-dialog> -->